:root{
  --primary:#2563eb;
  --primary-hover:#1d4ed8;
  --primary-light:rgba(37,99,235,0.08);
  --white:#ffffff;
  --bg:#f8fafc;
  --text:#0f172a;
  --muted:#64748b;
  --card:#ffffff;
  --border:#e2e8f0;
  --shadow:0 1px 3px rgba(0,0,0,0.06),0 1px 2px rgba(0,0,0,0.04);
  --shadow-lg:0 4px 12px rgba(0,0,0,0.08);
  --radius:12px;
}

*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:'Inter',system-ui,-apple-system,'Segoe UI',Roboto,sans-serif;
  background:var(--bg);
  color:var(--text);
  line-height:1.5;
}
a{color:var(--primary);text-decoration:none}
a:hover{text-decoration:underline}

/* ── Header ──────────────────────────────────────────── */
.top{
  background:var(--white);
  border-bottom:1px solid var(--border);
  padding:16px 24px 0;
  position:sticky;top:0;z-index:10;
}
.top-bar{
  display:flex;align-items:center;justify-content:space-between;
  margin-bottom:16px;
}
.brand{display:flex;align-items:center;gap:10px}
.logo-mark{
  width:36px;height:36px;border-radius:10px;
  background:var(--primary);
  display:flex;align-items:center;justify-content:center;
  font-weight:800;color:var(--white);font-size:16px;
}
.logo{font-weight:700;font-size:18px;color:var(--text)}

.top-actions{display:flex;gap:6px}
.icon-btn{
  width:36px;height:36px;border-radius:8px;border:1px solid var(--border);
  background:var(--white);cursor:pointer;font-size:16px;
  display:flex;align-items:center;justify-content:center;
  color:var(--muted);transition:background .15s,color .15s;
}
.icon-btn:hover{background:var(--bg);color:var(--text)}

/* ── Search bar ──────────────────────────────────────── */
.searchbar{
  display:flex;gap:0;
  background:var(--white);
  border:1px solid var(--border);
  border-radius:var(--radius);
  overflow:hidden;
  box-shadow:var(--shadow);
  transition:border-color .2s,box-shadow .2s;
}
.searchbar:focus-within{
  border-color:var(--primary);
  box-shadow:0 0 0 3px rgba(37,99,235,0.12);
}
.searchbar input{
  flex:1;border:0;outline:none;padding:12px 16px;
  font-size:15px;background:transparent;color:var(--text);
}
.searchbar input::placeholder{color:var(--muted)}
.searchbar button{
  border:0;background:var(--primary);color:var(--white);
  padding:0 16px;cursor:pointer;display:flex;align-items:center;
  transition:background .15s;
}
.searchbar button:hover{background:var(--primary-hover)}
.searchbar button svg{display:block}

/* ── Tabs ────────────────────────────────────────────── */
.tabs{
  display:flex;gap:0;margin-top:12px;
  border-bottom:none;
}
.tab{
  border:0;background:transparent;
  padding:10px 18px;cursor:pointer;
  font-size:14px;font-weight:500;color:var(--muted);
  border-bottom:2px solid transparent;
  transition:color .15s,border-color .15s;
}
.tab:hover{color:var(--text)}
.tab.active{
  color:var(--primary);
  border-bottom-color:var(--primary);
  font-weight:600;
}

/* ── Main ────────────────────────────────────────────── */
.main{max-width:720px;margin:0 auto;padding:24px 20px 48px}
.status{color:var(--muted);font-size:13px;margin-bottom:16px}

/* ── Results ─────────────────────────────────────────── */
.results{display:flex;flex-direction:column;gap:16px}

.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:16px;
  box-shadow:var(--shadow);
  transition:box-shadow .2s;
}
.card:hover{box-shadow:var(--shadow-lg)}
.card-row{display:flex;gap:14px;align-items:flex-start}
.card-content{flex:1;min-width:0}
.title{font-size:16px;font-weight:600;margin-bottom:2px}
.title a{color:var(--primary);text-decoration:none}
.title a:hover{text-decoration:underline}
.meta{
  color:var(--muted);font-size:12px;
  overflow:hidden;text-overflow:ellipsis;white-space:nowrap;
  margin-bottom:6px;
}
.snip{color:#334155;font-size:14px;line-height:1.55;margin:0}
.engine{
  display:inline-block;margin-top:8px;
  font-size:11px;font-weight:500;
  color:var(--muted);background:var(--bg);
  padding:2px 8px;border-radius:6px;
}

.thumb{
  width:120px;min-width:120px;max-width:36%;
  border-radius:8px;border:1px solid var(--border);
  object-fit:cover;
}

/* ── Panels (Settings & History) ─────────────────────── */
.panel{
  position:fixed;inset:0;z-index:100;
  display:flex;align-items:flex-start;justify-content:flex-end;
}
.panel.hidden{display:none}
.panel-overlay{
  position:absolute;inset:0;
  background:rgba(15,23,42,0.3);
  backdrop-filter:blur(2px);
}
.panel-content{
  position:relative;z-index:1;
  width:100%;max-width:380px;
  background:var(--white);
  height:100vh;overflow-y:auto;
  box-shadow:-4px 0 24px rgba(0,0,0,0.1);
  display:flex;flex-direction:column;
}
.panel-header{
  display:flex;align-items:center;justify-content:space-between;
  padding:20px 24px 16px;border-bottom:1px solid var(--border);
}
.panel-header h2{font-size:18px;font-weight:700}
.panel-close{
  width:32px;height:32px;border-radius:8px;border:0;
  background:var(--bg);cursor:pointer;font-size:20px;
  display:flex;align-items:center;justify-content:center;
  color:var(--muted);transition:background .15s;
}
.panel-close:hover{background:var(--border)}
.panel-body{padding:20px 24px;flex:1;display:flex;flex-direction:column;gap:20px}

/* ── Setting groups ──────────────────────────────────── */
.setting-group{display:flex;flex-direction:column;gap:6px}
.setting-group label{font-size:13px;font-weight:500;color:var(--muted)}
.setting-group select,
.setting-group input[type="text"]{
  width:100%;padding:10px 12px;
  border-radius:8px;border:1px solid var(--border);
  background:var(--white);outline:none;font-size:14px;color:var(--text);
  transition:border-color .15s;
}
.setting-group select:focus,
.setting-group input[type="text"]:focus{
  border-color:var(--primary);
  box-shadow:0 0 0 2px rgba(37,99,235,0.1);
}

.toggle-group{
  flex-direction:row;align-items:center;justify-content:space-between;
}
.toggle-group label:first-child{flex:1}

/* Toggle switch */
.switch{position:relative;display:inline-block;width:44px;height:24px}
.switch input{opacity:0;width:0;height:0}
.slider{
  position:absolute;cursor:pointer;inset:0;
  background:#cbd5e1;border-radius:24px;
  transition:background .2s;
}
.slider::before{
  content:'';position:absolute;width:18px;height:18px;
  left:3px;bottom:3px;background:var(--white);
  border-radius:50%;transition:transform .2s;
}
.switch input:checked + .slider{background:var(--primary)}
.switch input:checked + .slider::before{transform:translateX(20px)}

/* ── History list ────────────────────────────────────── */
.history-list{
  display:flex;flex-direction:column;gap:4px;
  flex:1;overflow-y:auto;
}
.history-item{
  display:flex;flex-direction:column;align-items:flex-start;
  text-align:left;
  border:0;background:var(--bg);
  padding:10px 14px;border-radius:8px;cursor:pointer;
  transition:background .15s;
}
.history-item:hover{background:var(--primary-light)}
.history-query{font-size:14px;font-weight:500;color:var(--text)}
.history-meta{font-size:11px;color:var(--muted)}
.empty-msg{color:var(--muted);font-size:14px;text-align:center;padding:24px 0}

.btn-secondary{
  border:1px solid var(--border);background:var(--white);
  padding:10px 16px;border-radius:8px;cursor:pointer;
  font-size:13px;font-weight:500;color:var(--muted);
  transition:background .15s,color .15s;
  align-self:flex-start;
}
.btn-secondary:hover{background:var(--bg);color:var(--text)}

/* ── Responsive ──────────────────────────────────────── */
@media (max-width: 640px){
  .top{padding:12px 16px 0}
  .main{padding:16px 16px 32px}
  .panel-content{max-width:100%}
  .thumb{width:80px;min-width:80px}
}
